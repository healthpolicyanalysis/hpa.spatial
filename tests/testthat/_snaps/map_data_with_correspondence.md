# aggregating up SA's works

    Code
      sa2_to_sa3_2011_mapped_unit
    Output
            sa3_code_2011        values
      62            10101  0.8955655823
      375           10103 -0.2297781389
      525           10104  0.8366190685
      747           10201 -1.7450558613
      1221          10202  1.6894589213
      1528          10302  0.8647779785
      1826          10304 -0.1507759889
      1901          10304 -1.4490071301
      2077          10401  0.6430087000
      2331          10402  0.4831938638
      2531          10503 -0.0063556264
      2613          10503  0.1514558929
      3356          10701 -0.5841089703
      3960          10704  0.3688067326
      4115          10801  0.2946543397
      4190          10802 -0.2792593733
      4292          10804 -1.3362366549
      4448          10804  0.7007488184
      4597          10805  0.5541966223
      4636          10805 -0.8363065928
      4872          10903 -1.5945881620
      5302          11004  0.2049585806
      6072          11103 -0.3450879780
      6510          11201  0.2526117034
      6902          11203 -1.2940024655
      7134          11301 -0.9591704444
      7190          11302  1.0857748537
      7321          11303  0.4037749047
      7492          11401  0.5864875367
      7945          11501  1.8152284462
      8073          11501  0.1288214286
      8244          11503 -2.0009292377
      8752          11602  0.3337771974
      9005          11603  1.1713251274
      9206          11701  2.0595392423
      9661          11703 -1.3768615982
      10055         11802 -1.1508555656
      10485         11901 -0.7058213948
      11276         11903 -1.0540557821
      13539         12203 -0.6457437231
      14258         12302 -0.1853779677
      14867         12403 -1.2012220507
      14886         12403  2.0369721670
      15092         12405  0.1077747449
      15249         12501 -0.0841081005
      15547         12503  0.4956196416
      15857         12504  0.0374151861
      16996         12702 -0.1320880370
      17290         12703  1.4767874236
      17892         19797 -0.2170302101
      17895         19999 -1.2836022041
      18066         20101  0.3856678904
      18627         20203 -0.3515128735
      19006         20302 -0.5217960934
      19411         20401 -1.0681312007
      19518         20402  0.4283659033
      19855         20502 -0.1740182344
      19910         20502  0.5156677286
      19961         20502 -0.2343652773
      20129         20504 -0.6585034258
      20198         20504  1.2502366041
      20313         20505 -0.2717637151
      20607         20602  0.9479519959
      21028         20604 -1.2015824301
      21158         20605 -0.4661160964
      21191         20605 -0.2693513952
      21945         20701 -0.3909654081
      22296         20703  1.3487070120
      22374         20703 -0.0227647013
      22950         20802  0.2442258511
      23097         20803 -0.9423717079
      23555         20901 -0.7292172765
      23955         20903  0.9980689086
      24012         20903  1.2584816646
      24215         20904  1.2488636888
      24290         20904 -1.3806370495
      24570         21001  2.0499606936
      25429         21101  1.0168728298
      25515         21101 -0.0267174641
      26770         21202  0.7036077788
      27653         21205 -0.9713852292
      29033         21304 -1.0961562416
      29253         21305  0.0490504509
      29597         21401 -1.1984958566
      29900         21402  0.1900189986
      30204         21501  1.2977058996
      30459         21503 -1.0338737230
      30498         21503 -0.7384407542
      30629         21602  0.0465639395
      30899         21701 -1.0175961198
      31415         30102 -0.3832839599
      31464         30102  0.8727554117
      31564         30102  0.9695450140
      31759         30201  0.3838466650
      31797         30201 -1.8515556631
      32084         30203 -0.0539967368
      32259         30301  1.0647732143
      32354         30302  0.8131950374
      32499         30302 -0.1908164741
      32555         30303 -2.6999298086
      33362         30404  0.0609666388
      33713         30503  0.5737516975
      33885         30504  0.0458035797
      34151         30602  0.1574125402
      34221         30602  0.4315653729
      34401         30603 -0.3965497361
      34663         30701  1.3099782258
      34681         30701  0.4703933999
      34872         30703 -1.2426702706
      34890         30703  1.3815754564
      34943         30801  1.2044589370
      35199         30802  0.8240739637
      36200         30906 -1.6626294022
      36337         30907 -0.5693063436
      36770         31001  0.6355138173
      36869         31001  0.0437220076
      36899         31002  0.3480123037
      37382         31004  2.4595935489
      37719         31103 -0.8183803244
      38057         31106 -2.1132001149
      38097         31106  0.2736952724
      38124         31106 -0.6875968412
      38263         31201  0.4460410530
      38362         31202 -0.8123847238
      38432         31202  2.2120554803
      38624         31301 -0.1237059716
      38656         31301 -0.4773355060
      38948         31304 -0.1662614915
      39029         31305  0.8625633836
      39580         31501  0.0973404852
      39715         31502 -1.6256167392
      39998         31602 -0.0046207678
      40240         31604  0.7602421677
      40696         31701  0.0389909129
      41133         31802  0.7350721416
      42562         40103 -0.1464726270
      43195         40202 -0.0578873354
      43284         40203  0.4823694661
      43334         40203  0.9929436368
      44151         40302 -1.2463954980
      44209         40303 -0.0334875248
      44267         40303 -0.0709621812
      44467         40304 -0.7589206537
      44475         40304 -1.0343593609
      44599         40304 -0.6307319540
      44678         40304  0.5868077200
      44716         40304 -0.4163226562
      44754         40401 -0.7848878095
      44881         40401  0.1634163195
      45245         40403 -1.2367142351
      45492         40503  1.0458737762
      45604         40504 -0.4845954162
      45815         40602  0.1891288117
      45860         40602  0.0510063316
      46627         50102 -0.0002406689
      46742         50103  1.8093820424
      47069         50301 -0.8253279571
      47459         50401  1.1454704522
      47898         50403  0.0315731876
      48633         50502 -0.8352058053
      48977         50503 -0.0687636490
      49118         50601  0.7467716870
      49206         50602 -0.4255187344
      49416         50603 -0.7720822352
      50387         50703  0.1527641067
      50393         50703  0.9885968452
      50422         50704 -0.0734583347
      51045         50803 -1.3870265536
      51235         50805 -1.3066759044
      51273         50805 -0.7683953251
      51349         50806 -0.5271081254
      51542         50901 -0.0214270650
      51574         50901  0.6704980710
      51601         50901 -0.4346170386
      51862         50903 -1.1138797833
      51974         60102  0.6071059949
      52127         60103  0.2754569687
      52159         60103  1.1573470694
      52298         60105 -1.6824808595
      52725         60202  0.0873190889
      53019         60401  1.3533618939
      53208         60402  0.7241738007
      53387         70102 -0.8325528258
      53599         70201  0.7325284868
      53761         70203 -0.8719268700
      53763         70203 -0.4533975112
      53768         70203  1.1875342786
      53776         70204 -0.2901453118
      53785         70204  0.8285461450
      53871         79999 -0.2912277088
      53978         80101 -1.5763624047
      54018         80101 -0.8488156969
      54323         80105 -1.0885198620
      54379         80106 -0.4842905711
      54475         80107 -0.3363112090
      54581         80107 -0.1533578907
      54643         80108 -0.2432472286
      54709         80109  1.8922020416
      54784         80109 -1.3859983373
      54800         90103 -0.4148243007

---

    Code
      sa2_to_sa3_2011_mapped_aggs
    Output
      # A tibble: 150 x 2
         sa3_code_2011 values
         <chr>          <dbl>
       1 10102         -1.69 
       2 10104         -1.77 
       3 10201         -1.19 
       4 10202          0.447
       5 10301         -1.45 
       6 10302          0.363
       7 10303         -0.275
       8 10304          1.14 
       9 10701         -0.365
      10 10704          0.658
      # i 140 more rows

# mapping across SAs and editions together works

    Code
      sa2_to_sa3_2011_to_2016_mapped_unit
    Output
            sa3_code_2016       values
      60            10102 -1.692687235
      219           10104 -1.840543781
      318           10104  0.065574671
      678           10201  0.012373235
      814           10201 -1.360282718
      884           10201  0.161139561
      1425          10202  0.447452183
      1445          10301 -1.454849856
      1593          10302  0.362580203
      1773          10303 -0.274753086
      1986          10304  1.142587867
      3441          10701 -0.364521830
      4015          10704  0.657994900
      4356          10802 -1.236138696
      4467          10804  0.817144011
      4868          10901  1.326244400
      4983          10903  1.297131294
      5436          11004 -0.389266963
      5549          11004  0.807563305
      6122          11103  0.767873979
      6186          11103 -0.105195295
      6218          11103  0.643003584
      6520          11201 -2.529781961
      6615          11201  0.243452493
      6699          11201 -1.596224964
      7658          11401  0.075832645
      7686          11401  1.590034586
      7941          11402  0.527471240
      8240          11501 -0.699964249
      8326          11501 -0.443309202
      9305          11603 -1.233178651
      10296         11801 -2.363159154
      10345         11802  0.858336607
      10654         11901  1.507659392
      10935         11901  0.027518224
      11021         11901 -0.991791586
      12195         12002 -0.167300656
      12387         12003 -0.130655940
      12453         12003 -0.695522224
      12918         12102 -0.350102341
      13444         12104 -0.189017228
      13583         12201  0.487763155
      13677         12202  1.113334249
      14194         12301 -2.225074775
      14961         12401  1.930999686
      15201         12403  2.552516172
      15515         12405 -1.159945004
      15749         12501 -0.708580146
      15870         12502  0.792712742
      15951         12503 -0.077582901
      16029         12503  1.295206602
      16235         12503  0.498677417
      16236         12503 -1.311383548
      16237         12504  0.442728846
      16287         12504 -1.210133815
      16650         12602 -0.133701164
      17247         12702 -0.170739743
      17565         12702 -0.906372628
      17674         12703  1.387615876
      17893         12801  0.007661038
      18578         20101  0.432319632
      18782         20103  2.069726736
      18898         20201 -0.299171683
      19020         20202  0.120326390
      19092         20202 -0.247385827
      19256         20302  1.032126979
      19332         20302  0.391515360
      19712         20303 -0.488462775
      20820         20504  0.949933351
      21179         20601 -1.088838112
      21640         20604  0.194448761
      21670         20604 -1.907990801
      21703         20605  0.695940373
      22032         20606  0.059472843
      22162         20607 -0.030320801
      22353         20701 -1.279445977
      22443         20701 -0.246897237
      22490         20701  1.659156256
      22759         20702  0.951392838
      23066         20703  0.836329015
      23563         20802  0.689378930
      24351         20902  0.680119972
      24532         20903 -1.575690059
      24592         20903 -1.732748652
      24614         20903 -0.525538328
      24634         20903  1.429044379
      24711         20904  0.575567763
      24726         20904 -0.744880245
      24795         20904  0.179210946
      25212         21001  0.239595386
      25855         21005 -0.381587375
      26482         21103  0.565436494
      26751         21104 -0.142441471
      26867         21104  0.449609933
      26953         21105  0.618099665
      27166         21105 -0.378782774
      27417         21201 -0.346357395
      27512         21202 -0.641436420
      29245         21301  0.402366113
      30037         21304  0.334888782
      30599         21401  0.068446411
      30799         21401 -0.611943625
      31518         21502  0.543230222
      31626         21503 -1.106325287
      31683         21503 -0.360561352
      31745         21601 -0.342652179
      32071         21603  2.227117193
      32702         30102 -1.413860164
      32824         30102  1.249919942
      32948         30103  1.146313391
      33156         30202 -0.056931304
      33300         30203  0.582482236
      33604         30301 -0.449375646
      33838         30303 -0.437954614
      34346         30401  0.204909990
      34513         30402  0.042635995
      34938         30502 -0.139271570
      35008         30502  1.413751620
      35326         30504  0.725290201
      35773         30603  0.987208167
      35840         30603 -0.194772692
      36513         30803 -0.771525268
      36560         30803  1.458820752
      36743         30804  0.409312786
      36837         30805 -0.691748746
      36866         30805  0.037465744
      37693         30907 -0.619323861
      38514         31002  0.145205136
      38749         31003  1.084439646
      38865         31004 -0.478056357
      39104         31102  0.117106040
      39497         31105  0.472256699
      39755         31201 -0.557529399
      39958         31202 -1.691285353
      40002         31202 -0.207965354
      40857         31401 -0.851644815
      41031         31402  0.933510712
      41256         31501 -0.074241695
      41419         31503 -0.161807576
      41508         31601 -1.579291567
      41988         31606 -1.045545607
      42651         31801  0.469421997
      42772         31802 -0.189776556
      42950         31802 -0.701756157
      43077         31802 -1.482116029
      43581         31902  2.119577578
      43945         31905  1.135382132
      44077         40101 -0.862926820
      44275         40102 -0.612063416
      44966         40202  0.208380980
      45124         40203 -0.070479911
      46415         40304  1.230273161
      47448         40504  0.052727875
      47549         40601  0.067269935
      47808         40701 -2.960871844
      47918         40702 -0.131156077
      48002         40702 -1.642789589
      48125         40703 -0.459291037
      48259         40703 -0.799934827
      48368         50101  0.450119893
      48586         50102 -0.243609714
      48873         50201 -0.386402391
      48889         50201 -0.543566619
      49390         50401 -0.104970813
      49427         50401 -1.608625238
      49511         50401  1.000861421
      49609         50402 -0.109582828
      49694         50403  0.758399227
      50143         50501  2.158866328
      50608         50502 -0.910272463
      50970         50503  1.129813976
      51362         50601  1.367495784
      51604         50603  0.868714718
      52148         50605  0.455355062
      52416         50701  1.724934085
      52721         50703 -0.459396996
      52793         50704 -0.700109375
      53326         50901  0.234757383
      53542         50902  0.275042719
      54089         51103  1.180016698
      54142         51104  1.107090499
      54591         60103  0.173265923
      54631         60104 -0.274206029
      55222         60203  1.599261005
      55277         60301 -2.009431862
      55651         60402 -0.717710941
      55729         70101  0.419859464
      55730         70101 -1.197410448
      55745         70101  0.324315668
      55810         70102 -0.720025157
      56010         70104 -0.503789391
      56458         80101 -0.744124164
      56564         80101  0.986379625
      56615         80103 -0.099490579
      56831         80104 -0.439168324
      57211         80107  0.744348384
      57338         80108  2.444763074
      57344         80108  0.043338591
      57495         80111  0.158722162
      57500         89797  1.685726334

---

    Code
      sa2_to_sa3_2011_to_2016_mapped_aggs
    Output
      # A tibble: 151 x 2
         sa3_code_2016  values
         <chr>           <dbl>
       1 10103          0.0546
       2 10105         -0.138 
       3 10201         -0.200 
       4 10303         -0.181 
       5 10502         -1.07  
       6 10601         -0.603 
       7 10602         -0.565 
       8 10703          0.472 
       9 10801         -0.305 
      10 10805          1.06  
      # i 141 more rows

# mapping data works

    Code
      sa2_2016_mapped_unit
    Output
      # A tibble: 2,214 x 2
      # Rowwise: 
         SA2_MAINCODE_2016  values
         <chr>               <dbl>
       1 101051539          1.37  
       2 101051540         -0.565 
       3 101061541          0.363 
       4 101061542          0.633 
       5 101061543          0.404 
       6 101061544         -0.106 
       7 101021007          1.51  
       8 101021008         -0.0947
       9 101021009          2.02  
      10 101021010         -0.0627
      # i 2,204 more rows

---

    Code
      sa2_2016_mapped_aggs
    Output
      # A tibble: 2,303 x 2
         SA2_MAINCODE_2016 values
         <chr>              <dbl>
       1 101021007             14
       2 101021008             22
       3 101021009             14
       4 101021010             20
       5 101021011             23
       6 101021012              9
       7 101031013             20
       8 101031014             18
       9 101031015             18
      10 101031016             16
      # i 2,293 more rows

---

    # A tibble: 5 x 2
      SA2_MAINCODE_2016 values
      <chr>              <dbl>
    1 107011545           4.82
    2 107011546           3.62
    3 107011547           1.57
    4 107041548           4.49
    5 107041549           5.51

---

    # A tibble: 5 x 2
      SA2_MAINCODE_2016 values
      <chr>              <dbl>
    1 107011545              5
    2 107011546              4
    3 107011547              2
    4 107041548              4
    5 107041549              6

