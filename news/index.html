<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • hpa.spatial</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hpa.spatial</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.12.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-polygons.html">Loading polygons</a></li>
    <li><a class="dropdown-item" href="../articles/mapping-data.html">Mapping data across geographies</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>

    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="hpaspatial-development-version">hpa.spatial (development version)<a class="anchor" aria-label="anchor" href="#hpaspatial-development-version"></a></h2>
<ul><li><p>remove hideous meta-programming that was handling the recursive calling of <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> (now that it’s not used recursively).</p></li>
<li><p>where possible to use a combination of ASGS correspondence tables (including combining multiple) use these for mapping data across editions/geographies.</p></li>
<li><p>avoid recursive programming for <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> by using new function: <code>.map_data_with_ct()</code></p></li>
<li><p>update testing suite to be faster to run and more comprehensive.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.12" id="hpaspatial-0212">hpa.spatial 0.2.12<a class="anchor" aria-label="anchor" href="#hpaspatial-0212"></a></h2>
<ul><li><p>data read from <code>{hpa.spatial.data}</code> is read from a specific commit to ensure (from now on) old versions of <a href="https://healthpolicyanalysis.github.io/hpa.spatial/">hpa.spatial</a> will read the same data as they are expected to (did at the time of analyses).</p></li>
<li><p>allow user to specify a custom correspondence table to <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code>.</p></li>
<li><p>add access to recently added Aged Care Planning Region shape files (on <code>{hpa.spatial.data}</code>).</p></li>
<li><p>only do GHA for R CMD CHECK on Windows.</p></li>
<li><p>update README.</p></li>
<li><p>update vignettes.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.11" id="hpaspatial-0211">hpa.spatial 0.2.11<a class="anchor" aria-label="anchor" href="#hpaspatial-0211"></a></h2>
<ul><li>Ensure that SA2s can completely map to LHNs (including SA2s with zero pop). Includes an associated change to <code>{hpa.spatial.data}</code> <a href="https://github.com/healthpolicyanalysis/hpa.spatial.data/commit/b1e28f35a90af27de5078dfecfd3b43d01bc3789" class="external-link">commit</a>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.10" id="hpaspatial-0210">hpa.spatial 0.2.10<a class="anchor" aria-label="anchor" href="#hpaspatial-0210"></a></h2>
<ul><li><p>update <code><a href="../reference/create_child_geo.html">create_child_geo()</a></code> to assign un-parented mesh blocks to the nearest polygon from <code>parent_geo</code>.</p></li>
<li><p>update testing snaps after LHN polygon was updated on <code>{hpa.spatial.data}</code>.</p></li>
<li><p>create vignettes.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.9" id="hpaspatial-029">hpa.spatial 0.2.9<a class="anchor" aria-label="anchor" href="#hpaspatial-029"></a></h2>
<ul><li><p>use open-source (MIT) license.</p></li>
<li><p>bug fix: when creating a correspondence table and there is a complete match between the polygons but all meshblocks data within have populations of zero, allow the match with ratio = 1.</p></li>
<li><p>bug fix: when using map_data_with_correspondence, avoid bug which converts <code>Date</code> grouping variables to numeric (use of <code>cbind.data.frame</code>, not <code>cbind</code>).</p></li>
<li><p>workflow: add github action workflows for checking package (check-standard) and making a github pages website (pkgdown).</p></li>
<li><p>bug fix: <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> would get confused when a vector object is used in combination with <code>.data</code>. Now the vector is attempted to be evaluated and if that errors, it accesses it from <code>.data</code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.8" id="hpaspatial-028">hpa.spatial 0.2.8<a class="anchor" aria-label="anchor" href="#hpaspatial-028"></a></h2>
<ul><li><p>allow user to get Modified Monash Model data (for SA1, 2016 ed.) using <code>get_polygon(name = "mmm19")</code> or <code><a href="../reference/get_mmm19_poly.html">get_mmm19_poly()</a></code>.</p></li>
<li><p>bug fix: pass <code>value_type</code> appropriately when <code>groups</code> are used in <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code>.</p></li>
<li><p>feature: let <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> take a list of vectors for groups or, when <code>.data</code> is passed, can take a character vector or column names or a vector of symbols.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.7" id="hpaspatial-027">hpa.spatial 0.2.7<a class="anchor" aria-label="anchor" href="#hpaspatial-027"></a></h2>
<ul><li><p>allow <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> to take <code>from_geo</code> and <code>to_geo</code> rather than only areas and years. (Also requires adding <code>export_fname</code> arg, consistent with changes to <code><a href="../reference/get_correspondence_tbl.html">get_correspondence_tbl()</a></code>.)</p></li>
<li><p>allow <code><a href="../reference/get_correspondence_tbl.html">get_correspondence_tbl()</a></code> to take <code>from_geo</code> and <code>to_geo</code> rather than only areas and years to get the polygons via <code><a href="../reference/get_polygon.html">get_polygon()</a></code>. Also allow user to specify an <code>export_fname</code> (file name) to save the correspondence table for these new tables as they can’t be named with <code>make_fname()</code>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.6" id="hpaspatial-026">hpa.spatial 0.2.6<a class="anchor" aria-label="anchor" href="#hpaspatial-026"></a></h2>
<ul><li><p>make <code><a href="../reference/create_child_geo.html">create_child_geo()</a></code> which adapts an <code>sf</code> polygon (<code>child_geo</code>) object by splitting polygons which span across multiple polygons within another passed <code>sf</code> polygon object (<code>parent_geo</code>). Can be used to adapt, for example, SA3s that span across multiple LHN’s so that those that cross are split.</p></li>
<li><p>move datasets that are used to <a href="https://github.com/healthpolicyanalysis/hpa.spatial.data" class="external-link">hpa.spatial.data</a> pkg and access them just int he same way that <code>{strayr}</code> reads in data from <code>{absmapsdata}</code>.</p></li>
<li><p>properly use <code>export_dir</code> from <code><a href="../reference/get_polygon.html">get_polygon()</a></code>.</p></li>
<li><p>remove all internal data and rely only on data from <a href="https://github.com/healthpolicyanalysis/hpa.spatial.data" class="external-link">hpa.spatial.data</a>.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.5" id="hpaspatial-025">hpa.spatial 0.2.5<a class="anchor" aria-label="anchor" href="#hpaspatial-025"></a></h2>
<ul><li>move PHN_CODE to be first col of <code>phn</code> to be consistent with other pkg data.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.4" id="hpaspatial-024">hpa.spatial 0.2.4<a class="anchor" aria-label="anchor" href="#hpaspatial-024"></a></h2>
<ul><li><p>use tidy evaluation on quosures to avoid problems with accessing objects passed to <code>hpa.spatial</code> functions that evaluate calls.</p></li>
<li><p>save and read correspondence tables to save time particularly when a correspondence table that’s being created is being created many times over within <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> (say, when <code>groups</code> is being used).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3" id="hpaspatial-023">hpa.spatial 0.2.3<a class="anchor" aria-label="anchor" href="#hpaspatial-023"></a></h2>
<ul><li>bug fix: call <code><a href="../reference/get_correspondence_tbl.html">get_correspondence_tbl()</a></code> from parent environment in <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="hpaspatial-022">hpa.spatial 0.2.2<a class="anchor" aria-label="anchor" href="#hpaspatial-022"></a></h2>
<ul><li>default mb_geo in <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> as missing and apply default within function code. Using a <code>hpa.spatial</code> function as a default arg fails when it’s called by namespace (<code><a href="../reference/map_data_with_correspondence.html">hpa.spatial::map_data_with_correspondence()</a></code>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="hpaspatial-021">hpa.spatial 0.2.1<a class="anchor" aria-label="anchor" href="#hpaspatial-021"></a></h2>
<ul><li><p>add <code><a href="../reference/get_correspondence_tbl.html">get_correspondence_tbl()</a></code> which calls <code><a href="https://rdrr.io/pkg/strayr/man/read_correspondence_tbl.html" class="external-link">strayr::read_correspondence_tbl()</a></code> and if it fails to find one, it uses <code><a href="../reference/make_correspondence_tbl.html">make_correspondence_tbl()</a></code> to create one. Takes the same args as <code><a href="https://rdrr.io/pkg/strayr/man/read_correspondence_tbl.html" class="external-link">strayr::read_correspondence_tbl()</a></code> but with the option to use a different mesh blocks edition/population data for <code><a href="../reference/make_correspondence_tbl.html">make_correspondence_tbl()</a></code>.</p></li>
<li><p>add <code><a href="../reference/make_correspondence_tbl.html">make_correspondence_tbl()</a></code> to create a correspondence table between two given geographies and a <code>POINT</code> geometry (<code>sf</code>) with population counts (<code>Person</code> as is standard in mesh blocks data).</p></li>
<li><p>added a <code>.data</code> argument to <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> so that <code>codes</code>, <code>values</code> and <code>groups</code> can be passed by reference (like in <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code>).</p></li>
<li><p>always return a tibble from <code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> (just for consistency).</p></li>
<li><p>add tests for (#3) which is a non-issue.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="hpaspatial-020">hpa.spatial 0.2.0<a class="anchor" aria-label="anchor" href="#hpaspatial-020"></a></h2>
<ul><li><p>create an <code>lhn</code> dataset to replace the independent state datasets (<code>qld_hhs</code>, <code>nsw_lhd</code>, <code>sa_lhn</code> etc…).</p></li>
<li><p>bug fix (#2): use <code><a href="https://withr.r-lib.org/reference/with_package.html" class="external-link">withr::with_package()</a></code> and <code><a href="https://withr.r-lib.org/reference/with_package.html" class="external-link">withr::with_environment()</a></code> to evaluate calls in <code><a href="../reference/get_polygon.html">get_polygon()</a></code> with <code>hpa.spatial</code> namespace within copy of parent environment.</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="hpaspatial-011">hpa.spatial 0.1.1<a class="anchor" aria-label="anchor" href="#hpaspatial-011"></a></h2>
<ul><li>
<p>initial release with two main functions:</p>
<ul><li><p><code><a href="../reference/get_polygon.html">get_polygon()</a></code> accesses the polygons from <code>{absmapsdata}</code> via <code><a href="https://rdrr.io/pkg/strayr/man/read_absmap.html" class="external-link">strayr::read_absmap()</a></code> as well as some other shape files internal to this pkg</p></li>
<li><p><code><a href="../reference/map_data_with_correspondence.html">map_data_with_correspondence()</a></code> allows the user to map data (unit or aggregate values) across between editions of the ASGS as well as up within nested levels (i.e. SA2 to SA3).</p></li>
</ul></li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rex Parsons.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

